/*
popModal - 1.06 [20.08.14]
Author: vadimsva
Github: https://github.com/vadimsva/popModal
*/
(function(a){a.fn.popModal=function(c){function h(){function c(a){var b=Math.max(C,D,E);return(a==p?0<D:a==y?0<C:0<E)?a:0<D&&D==b?p:0<C&&C==b?y:0<E&&E==b?s:a}if(k.inline)var g=d.position().left,f=d.position().top;else g=d.offset().left,f=d.offset().top;var h=parseInt(d.css("marginLeft"));parseInt(d.css("paddingLeft"));var m=parseInt(d.css("marginTop")),l=d.outerHeight(),q=d.outerWidth(),r=parseInt(b.css("maxWidth")),t=parseInt(b.css("minWidth")),w=b.outerHeight();n?isNaN(r)&&(r=300):(isNaN(t)&&(t=
180),r=t);b.css({width:r+"px"});var B,z=d.offset().left,x=a(window).width()-d.offset().left-q,H=d.offset().top,t=z-10-r,C=q+z-r,I=x-10-r,D=q+x-r,E=Math.min(q/2+x-r/2,q/2+z-r/2),z=H-w/2;/^bottom/.test(k.placement)?B=c(k.placement):/^left/.test(k.placement)?B=0<t?k.placement==v&&0<z?v:A:c(p):/^right/.test(k.placement)&&(B=0<I?k.placement==F&&0<z?F:G:c(y));b.removeAttr("class").addClass(e+" animated "+B);switch(B){case p:b.css({top:f+m+l+10+"px",left:g+h+"px"}).addClass(u+"Bottom");break;case y:b.css({top:f+
m+l+10+"px",left:g+h+q-r+"px"}).addClass(u+"Bottom");break;case s:b.css({top:f+m+l+10+"px",left:g+h+(q-r)/2+"px"}).addClass(u+"Bottom");break;case A:b.css({top:f+m+"px",left:g+h-r-10+"px"}).addClass(u+"Left");break;case G:b.css({top:f+m+"px",left:g+h+q+10+"px"}).addClass(u+"Right");break;case v:b.css({top:f+m+l/2-w/2+"px",left:g+h-r-10+"px"}).addClass(u+"Left");break;case F:b.css({top:f+m+l/2-w/2+"px",left:g+h+q+10+"px"}).addClass(u+"Right")}}function m(){b=a("."+e);b.length&&(f(),q||(q=b.css("animationDuration"),
q=void 0!=q?1E3*q.replace("s",""):0),setTimeout(function(){a("."+e+"_source").replaceWith(a("."+e+"_content").children());b.remove();a("html."+e+"Open").off("."+e+"Event").removeClass(e+"Open")},q))}function f(){var a=b.attr("class"),e=a.replace(u,t);b.removeClass(a).addClass(e)}var d=a(this),b,g="",n=!0,l="",e="popModal",k,q,u="fadeIn",t="fadeOut",p="bottomLeft",s="bottomCenter",y="bottomRight",A="leftTop",v="leftCenter",G="rightTop",F="rightCenter",w,x={init:function(c){k=a.extend({html:"",placement:p,
showCloseBut:!0,onDocumentClickClose:!0,inline:!0,onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},c);if(0!=a("body").find("."+e).length&&a("body").find("."+e).attr("data-popModal_ID")==d.attr("data-popModal_ID"))m();else{a("html."+e+"Open").off("."+e+"Event").removeClass(e+"Open");a("."+e+"_source").replaceWith(a("."+e+"_content").children());a("."+e).remove();k.showCloseBut&&(l=a('<button type="button" class="close">&times;</button>'));"fixed"==d.css("position")&&
(g="position:fixed;");w=(new Date).getMilliseconds();d.attr("data-popModal_ID",w);c=a('<div class="'+e+' animated" style="'+g+'" data-popModal_ID="'+w+'"></div>');var f=a('<div class="'+e+"_content "+e+'_contentOverflow"></div>');c.append(l,f);a.isFunction(k.html)?(f.append("Please, waiting..."),k.html(function(d){f.empty().append(d);b=a("."+e);n=!0;-1!=f[0].innerHTML.search(/<form/)?b.find("."+e+"_content").removeClass(e+"_contentOverflow"):b.find("."+e+"_content").addClass(e+"_contentOverflow");
h()})):("object"==a.type(k.html)&&k.html.after(a('<div class="popModal_source"></div>')),f.append(k.html));k.inline?d.after(c):a("body").append(c);b=a("."+e);b.find("."+e+"_footer")&&b.find("."+e+"_content").css({marginBottom:b.find("."+e+"_footer").outerHeight()+"px"});a.isFunction(k.html)||(-1!=("string"==a.type(k.html)?k.html:k.html[0].outerHTML).search(/<form/)||200>b.find("."+e+"_content").outerHeight())&&b.find("."+e+"_content").removeClass(e+"_contentOverflow");if(k.onLoad&&a.isFunction(k.onLoad))k.onLoad();
b.on("destroyed",function(){if(k.onClose&&a.isFunction(k.onClose))k.onClose()});n=!0;("absolute"!=d.parent().css("position")||"fixed"!=d.parent().css("position"))&&270>b.find("."+e+"_content").width()&&60>b.find("."+e+"_content").height()&&(n=!1);h();if(k.onDocumentClickClose)a("html").on("click."+e+"Event",function(c){a(this).addClass(e+"Open");b.is(":hidden")&&m();var f=a(c.target);f.parents().andSelf().is("."+e)||f.parents().andSelf().is(d)||(c=parseInt(f.parents().filter(function(){return"auto"!==
a(this).css("zIndex")}).first().css("zIndex")),isNaN(c)&&(c=0),f=f.css("zIndex"),"auto"==f&&(f=0),c<f&&(c=f),c<=b.css("zIndex")&&m())});a(window).resize(function(){h()});b.find(".close").bind("click",function(){m()});b.find('[data-popModalBut="close"]').bind("click",function(){m()});b.find('[data-popModalBut="ok"]').bind("click",function(b){var e;k.onOkBut&&a.isFunction(k.onOkBut)&&(e=k.onOkBut(b));!1!==e&&m()});b.find('[data-popModalBut="cancel"]').bind("click",function(){if(k.onCancelBut&&a.isFunction(k.onCancelBut))k.onCancelBut();
m()});a("html").on("keydown."+e+"Event",function(a){27==a.keyCode&&m()})}},hide:function(){m()}};if(x[c])return x[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return x.init.apply(this,arguments)};a("* [data-popModalBind]").bind("click",function(){var c=a(this).attr("data-popModalBind"),c={html:a(c)};void 0!=a(this).attr("data-placement")&&(c.placement=a(this).attr("data-placement"));void 0!=a(this).attr("data-showCloseBut")&&(c.showCloseBut=/^true$/i.test(a(this).attr("data-showCloseBut")));
void 0!=a(this).attr("data-overflowContent")&&(c.overflowContent=/^true$/i.test(a(this).attr("data-overflowContent")));void 0!=a(this).attr("data-onDocumentClickClose")&&(c.onDocumentClickClose=/^true$/i.test(a(this).attr("data-onDocumentClickClose")));a(this).popModal(c)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.notifyModal=function(c){function h(){var b=a("."+d);setTimeout(function(){b.removeClass("open");setTimeout(function(){b.remove();-1!=g.duration&&clearTimeout(notifDur)},n)},n)}var m=a(this),f,d="notifyModal",b="",g,n,l={init:function(e){g=a.extend({duration:2500,placement:"center",type:"notify",overlay:!0},e);g.overlay&&(b="overlay");a("."+d).remove();e=a('<div class="'+d+" "+g.placement+" "+b+" "+g.type+'"></div>');var c=a('<div class="'+d+'_content"></div>'),l=a('<button type="button" class="close">&times;</button>');
m=void 0==m[0]?m.selector:m[0].innerHTML;c.append(l,m);e.append(c);a("body").append(e);f=a("."+d);n||(n=f.css("transitionDuration"),n=void 0!=n?1E3*n.replace("s",""):0);setTimeout(function(){f.addClass("open")},n);f.click(function(){h()});-1!=g.duration&&(notifDur=setTimeout(h,g.duration))},hide:function(){h()}};a("html").keydown(function(a){27==a.keyCode&&h()});if(l[c])return l[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return l.init.apply(this,arguments)};
a("* [data-notifyModalBind]").bind("click",function(){var c=a(this).attr("data-notifyModalBind"),h={};void 0!=a(this).attr("data-duration")&&(h.duration=parseInt(a(this).attr("data-duration")));void 0!=a(this).attr("data-placement")&&(h.placement=a(this).attr("data-placement"));void 0!=a(this).attr("data-onTop")&&(h.onTop=/^true$/i.test(a(this).attr("data-onTop")));a(c).notifyModal(h)})})(jQuery);
(function(a){a.fn.hintModal=function(c){var h={init:function(c){a(this).mouseenter(function(){var c=a(this).find("> .hintModal_container");c.addClass("animated fadeInBottom");var d=a(this),b,g=d.outerWidth();b=c.outerWidth();var h=d.offset().left,l=a(window).width()-d.offset().left-g,c=g+h-b,e=g+l-b,g=Math.min(g/2+l-b/2,g/2+h-b/2);b=d.hasClass("bottomLeft")?"bottomLeft":d.hasClass("bottomCenter")?"bottomCenter":d.hasClass("bottomRight")?"bottomRight":"bottomLeft";void 0==d.data("placement")&&d.data("placement",
b);b=d.data("placement");h=Math.max(c,e,g);c=("bottomLeft"==b?0<e:"bottomRight"==b?0<c:0<g)?b:0<e&&e==h?"bottomLeft":0<c&&c==h?"bottomRight":0<g&&g==h?"bottomCenter":b;d.removeAttr("class").addClass("hintModal "+c)});a(this).mouseleave(function(){a(this).find("> .hintModal_container").removeClass("animated fadeInBottom")})}};if(h[c])return h[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return h.init.apply(this,arguments)};a(".hintModal").hintModal()})(jQuery);
(function(a){a.fn.dialogModal=function(c){function h(){var c=a("."+b);setTimeout(function(){c.removeClass("open");setTimeout(function(){c.remove();a("body").removeClass(b+"Open");a("html."+b+"Open").off("."+b+"Event").removeClass(b+"Open");c.find("."+g).off("click");c.find("."+n).off("click")},e)},e)}var m=a(this),f,d,b="dialogModal",g="dialogPrev",n="dialogNext",l,e,k={init:function(c){function k(){var c=d.outerHeight();a(window).height()>c+80?d.css({marginTop:(a(window).height()-c)/2+"px"}):d.css({marginTop:"60px"});
a("body").addClass(b+"Open");setTimeout(function(){f.addClass("open")},e);t()}function t(){f.find('[data-dialogModalBut="close"]').bind("click",function(){h()});f.find('[data-dialogModalBut="ok"]').bind("click",function(b){var c;l.onOkBut&&a.isFunction(l.onOkBut)&&(c=l.onOkBut(b));!1!==c&&h()});f.find('[data-dialogModalBut="cancel"]').bind("click",function(){if(l.onCancelBut&&a.isFunction(l.onCancelBut))l.onCancelBut();h()})}l=a.extend({onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},
onClose:function(){}},c);a("html."+b+"Open").off("."+b+"Event").removeClass(b+"Open");a("."+b+" ."+g+", ."+b+" ."+n).off("click");a("."+b).remove();var p=0,s=m.length-1;dialogMain=a('<div class="'+b+'"></div>');dialogContainer=a('<div class="'+b+'_container"></div>');dialogCloseBut=a('<button type="button" class="close">&times;</button>');dialogBody=a('<div class="'+b+'_body"></div>');dialogMain.append(dialogContainer);dialogContainer.append(dialogCloseBut,dialogBody);dialogBody.append(m[p].innerHTML);
0<s&&dialogContainer.prepend(a('<div class="'+g+' notactive"></div><div class="'+n+'"></div>'));a("body").append(dialogMain);f=a("."+b);d=a("."+b+"_container");e||(e=f.css("transitionDuration"),e=void 0!=e?1E3*e.replace("s",""):0);if(l.onLoad&&a.isFunction(l.onLoad))l.onLoad();f.on("destroyed",function(){if(l.onClose&&a.isFunction(l.onClose))l.onClose()});k();f.find("."+g).bind("click",function(){0<p&&(--p,p<s&&f.find("."+n).removeClass("notactive"),0==p&&f.find("."+g).addClass("notactive"),dialogBody.empty().append(m[p].innerHTML),
k())});f.find("."+n).bind("click",function(){p<s&&(++p,0<p&&f.find("."+g).removeClass("notactive"),p==s&&f.find("."+n).addClass("notactive"),dialogBody.empty().append(m[p].innerHTML),k())});f.find(".close").bind("click",function(){h()});a("html").on("keydown."+b+"Event",function(a){27==a.keyCode?h():37==a.keyCode?f.find("."+g).click():39==a.keyCode&&f.find("."+n).click()})},hide:function(){h()}};if(k[c])return k[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return k.init.apply(this,
arguments)};a("* [data-dialogModalBind]").bind("click",function(){var c=a(this).attr("data-dialogModalBind");a(c).dialogModal()});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.titleModal=function(c){var h={init:function(c){function f(){var a=b.attr("class"),c=a.replace(h,l);b.removeClass(a).addClass(c)}var d,b;c=a("*[data-titleModal]");var g,h="fadeIn",l="fadeOut";c.mouseenter(function(){d=a(this);titleAttr=d.attr("title");d.removeAttr("title");d.attr("data-title",titleAttr);titleModal=a('<div class="titleModal animated"></div>');b=a(".titleModal");placement=d.attr("data-placement");void 0==placement&&(placement="bottom");b&&b.remove();d.after(titleModal.append(titleAttr));
b=a(".titleModal");var c=d.position().left,f=d.position().top,g=d.css("marginLeft"),l=d.css("marginTop"),m=d.css("marginBottom"),p=d.outerHeight(),s=d.outerWidth(),y=b.css("marginTop"),A=b.outerWidth(),v=b.outerHeight();switch(placement){case "bottom":b.css({marginTop:parseInt(y)-parseInt(m)+"px",left:c+parseInt(g)+(s-A)/2+"px"}).addClass(h+"Bottom");break;case "top":b.css({top:f+parseInt(l)-v+"px",left:c+parseInt(g)+(s-A)/2+"px"}).addClass("top "+h+"Top");break;case "left":b.css({top:f+parseInt(l)+
p/2-v/2+"px",left:c+parseInt(g)-A-10+"px"}).addClass("left "+h+"Left");break;case "right":b.css({top:f+parseInt(l)+p/2-v/2+"px",left:c+parseInt(g)+s+10+"px"}).addClass("right "+h+"Right")}});c.mouseleave(function(){d=a(this);titleAttr=d.attr("data-title");d.removeAttr("data-title");d.attr("title",titleAttr);f();g||(g=b.css("animationDuration"),g=void 0!=g?1E3*g.replace("s",""):0);setTimeout(function(){b.remove()},g)})}};if(h[c])return h[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===
typeof c||!c)return h.init.apply(this,arguments)}()})(jQuery);
